# AWS Configuration
aws_region  = "ap-south-1"
environment = "prod"

# VPC Configuration
vpc_cidr           = "10.0.0.0/16"
availability_zones = ["ap-south-1a", "ap-south-1b"]

# ECS Service Desired Counts
notification_api_desired_count = 2
email_worker_desired_count     = 2
whatsapp_worker_desired_count  = 2

# RDS Configuration
# Note: db.t3.micro is too small for production - use db.t3.small minimum
# rds_instance_class     = "db.t3.small"  # Default: db.t3.small
rds_allocated_storage  = 20
# Note: PostgreSQL 15.4 not available in ap-south-1 - using 15.15 (latest 15.x)
# rds_engine_version     = "15.15"  # Default: 15.15
rds_db_name            = "notification_db"
rds_master_username    = "notification_user"

# S3 Configuration
# IMPORTANT: S3 bucket names must be globally unique
# Suggested: add region + account hint
s3_bucket_name = "cg-notification-uploads-ap-south-1-YOUR-SUFFIX"

# ECS Configuration
ecs_cluster_name = "cg-notification-cluster"

# ALB Configuration
alb_name                = "cg-notification-alb"
alb_deletion_protection = false

# Application Configuration
# Base URL for file uploads (used in API service)
# If not provided, will use ALB DNS name
file_upload_base_url = "https://api.yourdomain.com/files"

# CloudWatch Configuration
# Log retention in days (valid values: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, 3653)
cloudwatch_log_retention_days = 7

# Database Migrations
# ⚠️ WARNING: enable_db_migrations = true uses null_resource which:
# - Runs from operator's laptop (requires psql installed locally)
# - Breaks in CI/CD pipelines (no local psql)
# - Is non-idempotent under retries
# - Tightly couples infrastructure apply with schema state
# - NOT recommended for production or multi-operator environments
# 
# RECOMMENDED: Set to false and use ECS task-based migrations instead (see DEPLOYMENT.md Step 6.5)
# enable_db_migrations = false  # Default: false (safe for production)

